%META:TOPICINFO{author="ProjectContributor" comment="" date="1437132754" format="1.1"  version="1"}%
%META:TOPICPARENT{name="TopicFunction"}%
%TOC{depth="2"}%

---++ Documentation
%STARTSECTION{name="documentation" type="section"}%
This function renders an input form to create a new category.

%ENDSECTION{name="documentation" type="section"}%

---++ Implementation
<verbatim class="tml">
%STARTINCLUDE%<!-- -->
<noautolink>
<form action="%SCRIPTURLPATH{"save"}%/%BASEWEB%/" method="post">
<input type="hidden" name="refresh" value="on" />
<input type="hidden" name="web" value="%BASEWEB%" />
<input type="hidden" name="onlynewtopic" value="on" />
<input type="hidden" name="formtemplate" value="Applications.ClassificationApp.Category" />
<input type="hidden" name="templatetopic" value="Applications.ClassificationApp.CategoryTemplate" />
<input type="hidden" name="action" value="form" />
<input type="hidden" name="TopicType" value="Category, CategorizedTopic" />
<input type="hidden" name="topicparent" value="none" />
<input type="hidden" name="redirectto" value="%BASEWEB%.%BASETOPIC%" />
<input type="hidden" name="topic" value="%URLPARAM{"topic" encode="entity"}%"  class="jqWikiWord {source:'#cattitle', suffix:'Category'}" />
<input type="hidden" name="Summary" value="" />
<div class="foswikiFormSteps clsCategoryFactory">
<h2 >%MAKETEXT{"Create a new category in the [_1] web" args="<nop>%WEBLINK{"%BASEWEB%" format="$name"}%"}%</h2>
<div class="foswikiFormStep">
  <h3>%MAKETEXT{"Title"}%:</h3>
  <input class="foswikiInputField" type="text" id="cattitle" name="TopicTitle" size="60" value="%URLPARAM{"TopicTitle" encode="entity"}%" />
</div>
<div class="foswikiFormStep">
  %BUTTON{"%MAKETEXT{"Submit"}%" type="save" icon="add"}%
  %CLEAR%
</div>
</div>
</form>
%JQREQUIRE{"wikiword"}%<!-- -->
</noautolink>
<!-- -->%STOPINCLUDE%
</verbatim>

---++ Test
%DBCALL{"%TOPIC%"}%


%META:FORM{name="Applications.TopicFunction"}%
%META:FIELD{name="TopicType" title="TopicType" value="DocuTopic, TopicFunction"}%
%META:FIELD{name="TopicTitle" attributes="" title="<nop>TopicTitle" value=""}%
%META:FIELD{name="Summary" attributes="c" title="Summary" value="Renders a factory for Categories"}%
%META:FIELD{name="WikiApplication" attributes="" title="WikiApplication" value="ClassificationApp"}%
